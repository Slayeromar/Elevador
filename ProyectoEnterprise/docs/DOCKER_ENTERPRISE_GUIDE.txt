=====================================================================
    GU√çA MAESTRA DE OPERACIONES DOCKER - PROYECTO ENTERPRISE CES 2026
=====================================================================

Esta gu√≠a contiene los comandos vitales para administrar, depurar y optimizar
tu plataforma de automatizaci√≥n industrial.

---
1. COMANDOS DE ARRANQUE Y ACTUALIZACI√ìN
---

> Actualizar un solo servicio (Ej: Solo la Web o el PLC) sin apagar el resto:
docker-compose up -d --build hmi-web

> Reiniciar TODO el sistema desde cero (Limpieza profunda):
docker-compose up -d --build --force-recreate

> Detener el sistema manteniendo los datos:
docker-compose stop

> Borrar contenedores y redes (Limpieza total):
docker-compose down

---
2. MONITOREO Y AUDITOR√çA (MODO EXPERTO)
---

> Ver logs de todos los servicios en tiempo real:
docker-compose logs -f

> Ver logs de un servicio espec√≠fico (Ej: Ver por qu√© fall√≥ el PLC):
docker-compose logs -f plc-service

> Ver estad√≠sticas de consumo (CPU/RAM) de cada contenedor:
docker stats

---
3. GESTI√ìN DE VERSIONES Y "ROLLBACK" (VOLVER ATR√ÅS)
---

Docker no guarda versiones autom√°ticamente a menos que las etiquetes. 
Aqu√≠ el truco profesional:

> Guardar la versi√≥n actual como "estable":
docker tag proyectoenterprise-hmi-web:latest proyectoenterprise-hmi-web:v2.5_estable

> Si la v2.6 falla y quieres volver a la estable, cambia el docker-compose.yml 
  para que apunte a :v2.5_estable en lugar de 'build' o relanza con:
docker-compose up -d hmi-web

---
4. INSPECCI√ìN INTERNA (ENTRAR AL CONTENEDOR)
---

Si quieres ver los archivos DENTRO del servidor configurado (como si entraras por SSH):

> Entrar a la terminal del API Gateway:
docker-compose exec api-gateway sh

---
5. LIMPIEZA DE BASURA
---

A veces Docker guarda "fotos" viejas que ocupan mucho espacio en disco:

> Borrar todas las im√°genes, redes y cach√© que no se est√©n usando:
docker system prune -f

---
6. FAQ: ¬øPOR QU√â MI CAMBIO NO SE VE?
---

1. Cache de Docker: Usa --build siempre que modifiques un archivo .py, .js o .html.
2. Cache de Navegador: El HMI es muy pesado en cache. Usa CTRL+F5.
3. Puertos Ocupados: Si Windows da error de puerto, es que olvidaste hacer 
   docker-compose down de una sesi√≥n anterior.

=====================================================================
üè¢ "Infrastructure as Code" - Enterprise Project
=====================================================================
